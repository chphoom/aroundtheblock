<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Overpass:wght@400;600;700&display=swap" rel="stylesheet">

<nav>
    <div class="home">
        <a class="logo unit" routerLink="/">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg%22%3E">
                <path d="M1 31.2366L19.3294 39V29.5L5.47059 23.7903V20.5215V18L19.3294 23.3817V14.0753L1 7.53763V23.0645V31.2366Z" fill="#BBF1BA"/>
                <path d="M19.3294 39L39 31.2366V23.0645V7.53763L19.3294 14.0753V23.3817L30.9529 19.5V15L36 21L30.9529 30V25.5L19.3294 29.5V39Z" fill="#FFBFE6"/>
                <path d="M19.3294 14.0753L39 7.53763L19.3294 1L1 7.53763L19.3294 14.0753Z" fill="#FFDFA0"/>
                <path d="M30.9529 15V19.5L19.3294 23.3817L5.47059 18V20.5215V23.7903L19.3294 29.5L30.9529 25.5V30L36 21L30.9529 15Z" fill="#FFF3FA"/>
                <path d="M1 7.53763L19.3294 14.0753M1 7.53763L19.3294 1L39 7.53763M1 7.53763V23.0645V31.2366L19.3294 39M19.3294 39L39 31.2366V23.0645V7.53763M19.3294 39V29.5M39 7.53763L19.3294 14.0753M19.3294 14.0753V23.3817M19.3294 23.3817L5.47059 18V20.5215V23.7903L19.3294 29.5M19.3294 23.3817L30.9529 19.5V15L36 21L30.9529 30V25.5L19.3294 29.5" stroke="black"/>
            </svg>
            <a id="title">Around the Block</a>
        </a>   
    </div>
    <div class="nav-container">
        <div class="nav-items">
            <div class="nav-content">
                <a class="nav-challenge we unit" routerLink="/we-challenge">
                    <svg width="28" height="32" viewBox="0 0 28 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="14.4645" cy="13" r="13" fill="#4CCF80"/>
                        <path d="M24.3225 22.9496C21.7475 25.5346 18.3238 26.9583 14.6822 26.9583C11.0406 26.9583 7.61695 25.5346 5.04192 22.9496C2.46686 20.3645 1.04872 16.9274 1.04864 13.2715C1.04864 9.61563 2.46676 6.17857 5.04184 3.59345C5.24664 3.3879 5.24664 3.05465 5.04191 2.84907C4.83716 2.64357 4.5052 2.6435 4.30045 2.84907C1.52722 5.633 0 9.33447 0 13.2716C6.64073e-05 17.2085 1.52728 20.9101 4.30037 23.694C7.03386 26.4382 10.5859 27.8708 14.1747 27.9943V30.8106H8.93166C8.64207 30.8106 8.40736 31.0461 8.40736 31.3369C8.40736 31.6276 8.64207 31.8633 8.93166 31.8633H20.4664C20.7561 31.8633 20.9907 31.6276 20.9907 31.3369C20.9907 31.0461 20.7561 30.8106 20.4664 30.8106H15.2233V27.9932C18.8006 27.8619 22.3391 26.4295 25.0641 23.6941C25.2687 23.4884 25.2687 23.1552 25.0641 22.9496C24.8593 22.7441 24.5273 22.7441 24.3225 22.9496Z" fill="white"/>
                        <path d="M4.50163 18.1249C5.79291 20.8549 8.06591 22.9166 10.9019 23.9304C12.1241 24.3671 13.3959 24.5887 14.6819 24.5887C14.6822 24.5887 14.6819 24.5887 14.6822 24.5887C19.4354 24.5887 23.7009 21.5676 25.2977 17.071C25.2984 17.0692 25.299 17.0675 25.2996 17.0657C26.309 14.2188 26.1538 11.1478 24.8626 8.41811C23.5713 5.68814 21.2983 3.62644 18.4622 2.61281C17.2401 2.17591 15.9684 1.95441 14.6825 1.95441C9.92749 1.95441 5.66061 4.97732 4.06497 9.47651C3.05525 12.3236 3.21031 15.395 4.50163 18.1249ZM5.44882 17.6733C5.20064 17.1486 4.99919 16.6099 4.84383 16.0623C4.85774 16.0487 4.87097 16.0341 4.88356 16.0187C5.60082 15.135 7.79753 12.9056 9.32268 13.1958C10.0003 13.3247 10.5776 13.2072 11.0384 12.846C12.0251 12.0728 12.1194 10.4379 12.1758 9.46106C12.1808 9.37317 12.1855 9.29176 12.1905 9.21834C12.2224 8.75367 12.0919 8.18574 11.9655 7.63652C11.8676 7.21077 11.6638 6.32481 11.7964 6.16062C11.7964 6.16062 11.8018 6.15707 11.8164 6.15269C12.3388 5.99732 13.0569 5.40167 13.9509 4.38229C14.526 3.72659 14.8439 3.29972 15.0179 3.01324C15.7298 3.03684 16.4358 3.13546 17.1288 3.30796C16.324 3.96781 15.3237 5.00426 15.4712 5.99136C15.5693 6.64879 16.1062 7.12107 17.0669 7.39504C20.2802 8.31146 20.7454 8.82434 21.1993 10.452C21.5526 11.7185 22.7057 12.7317 23.7422 12.7316C23.8068 12.7316 23.8712 12.7276 23.9348 12.7196C24.1589 12.691 24.5314 12.5869 24.856 12.2303C24.988 13.5217 24.8718 14.8335 24.5053 16.1066C24.0242 15.8753 23.3126 15.6418 22.5543 15.7688C21.4735 15.9498 20.9215 14.0983 20.648 12.5136C20.3407 10.7345 19.3356 10.6905 18.9178 10.7541C17.868 10.9139 16.7823 12.3153 16.9149 13.3394C17.0389 14.2975 16.2955 15.9255 15.6225 16.5368C15.5279 16.6228 15.0972 16.438 14.8121 16.3157C14.1369 16.0261 13.0071 15.5415 12.1928 16.6066C11.3911 17.6553 9.20631 20.3551 8.3883 21.3636C7.14879 20.3939 6.14254 19.14 5.44882 17.6733ZM14.6819 23.536C13.516 23.536 12.3626 23.335 11.2536 22.9386C10.5443 22.6851 9.87406 22.3589 9.25043 21.968C10.1059 20.9128 12.2308 18.286 13.0247 17.2476C13.3017 16.8853 13.5816 16.9327 14.4002 17.2838C14.9941 17.5384 15.7333 17.8555 16.3261 17.3174C17.2389 16.4882 18.1294 14.5528 17.9548 13.2037C17.9006 12.7855 18.5611 11.8731 19.075 11.795C19.4144 11.744 19.5651 12.4061 19.6147 12.6934C19.8668 14.1535 20.229 15.1964 20.7222 15.8818C21.3913 16.8119 22.1817 16.8984 22.7266 16.8072C23.2776 16.7151 23.8259 16.9327 24.1612 17.11C22.6099 20.9708 18.8533 23.5362 14.6819 23.536ZM23.9154 8.86964C24.1231 9.30881 24.2978 9.75781 24.4406 10.2136C24.4096 11.0831 24.1737 11.628 23.803 11.6752C23.294 11.7398 22.4572 11.0574 22.2092 10.1681C21.6109 8.02296 20.7486 7.35069 17.3535 6.38241C16.8468 6.23786 16.5386 6.03852 16.5082 5.83549C16.4307 5.31831 17.473 4.31737 18.3568 3.69606C20.8141 4.64466 22.7818 6.47322 23.9154 8.86964ZM5.05281 9.82959C6.38803 6.06479 9.78564 3.44161 13.6901 3.05766C13.0565 3.85557 12.0148 4.99574 11.5185 5.14337C10.3929 5.47819 10.7113 6.86256 10.9438 7.87337C11.0528 8.34744 11.1655 8.83771 11.1444 9.14594C11.1391 9.22282 11.1342 9.30814 11.1289 9.40022C11.0858 10.1467 11.0057 11.5362 10.3932 12.0162C10.1776 12.1852 9.89126 12.2326 9.51814 12.1615C8.45599 11.9596 7.20512 12.4509 5.79926 13.6224C5.30013 14.0384 4.87325 14.4647 4.56837 14.7905C4.32044 13.141 4.47977 11.4455 5.05281 9.82959Z" fill="white"/>
                        <path d="M15.2299 12.3951C15.4282 12.3951 15.6138 12.3412 15.7816 12.235C16.3967 11.8459 16.6453 11.1892 16.8647 10.6099C17.0306 10.1719 17.1871 9.75824 17.4724 9.49004C17.7474 9.23155 17.8393 8.89382 17.7185 8.58657C17.5711 8.21227 17.1577 7.99762 16.5844 7.99762C15.5907 7.99762 14.3018 8.61157 13.0483 9.68205C12.8552 9.84709 12.8073 10.1273 12.9348 10.3475C13.213 10.8278 14.2006 12.395 15.2299 12.3951ZM16.462 9.05595C16.1905 9.42792 16.0301 9.8514 15.8846 10.2358C15.701 10.7204 15.5424 11.1392 15.2258 11.3423C15.007 11.3357 14.5034 10.8203 14.0798 10.1966C15.272 9.26839 16.1036 9.08662 16.462 9.05595Z" fill="white"/>
                    </svg>
                    <p>We</p>
                </a>
                <a class="nav-challenge me unit" routerLink="/me-challenge">
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg%22%3E">
                        <circle cx="15" cy="15" r="15" fill="#FFBFE6"/>
                        <path d="M10.5914 13.331C11.4838 13.331 12.2101 12.5836 12.2101 11.6655C12.2101 10.7473 11.4838 10 10.5914 10C9.69909 10 8.97276 10.7473 8.97276 11.6655C8.97276 12.5836 9.69909 13.331 10.5914 13.331ZM20.3035 13.331C21.1959 13.331 21.9222 12.5836 21.9222 11.6655C21.9222 10.7473 21.1959 10 20.3035 10C19.4112 10 18.6848 10.7473 18.6848 11.6655C18.6848 12.5836 19.4112 13.331 20.3035 13.331ZM10.9857 20.5267C12.1271 21.4448 13.6005 22 15.4475 22C17.2944 22 18.7678 21.4448 19.9092 20.5267C20.594 19.9502 21.0091 19.395 21.2166 18.968C21.3826 18.6477 21.2374 18.242 20.9261 18.0712C20.6148 17.9004 20.2205 18.0498 20.0545 18.3701C20.0337 18.4128 19.9715 18.5409 19.847 18.6904C19.6602 18.968 19.3904 19.2242 19.0999 19.4804C18.2075 20.2278 17.0039 20.6762 15.4475 20.6762C13.8911 20.6762 12.7082 20.2278 11.7951 19.4804C11.4838 19.2242 11.2348 18.9466 11.048 18.6904C10.9442 18.5409 10.8612 18.4342 10.8405 18.3701C10.6744 18.0498 10.3009 17.9004 9.96887 18.0712C9.63684 18.242 9.51232 18.6263 9.67834 18.968C9.88586 19.395 10.3009 19.9502 10.9857 20.5267Z" fill="white"/>
                        <path d="M14.9494 28C7.81487 28 2 22.1624 2 15C2 7.83758 7.81487 2 14.9494 2C22.084 2 27.8988 7.83758 27.8988 15C27.8988 22.1624 22.084 28 14.9494 28ZM14.9494 3.24204C8.49533 3.24204 3.23721 8.5207 3.23721 15C3.23721 21.4793 8.49533 26.758 14.9494 26.758C21.4035 26.758 26.6616 21.4793 26.6616 15C26.6616 8.5207 21.4035 3.24204 14.9494 3.24204Z" fill="white"/>
                    </svg>
                    <p>Me</p>
                </a>
                <div class="search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                    <input type="text" placeholder="Search..." id="search" (keyup.enter)="onSearch()" #search>
                </div>
            </div>
        
            <div class="account">
                <div *ngIf="(registration_service.isAuthenticated$ | async); else guest" class="user-bar">
                    <mat-icon *ngIf="(numUnread == 0)" style="cursor: pointer;" [matMenuTriggerFor]="menu" aria-label="notifications" tabindex="0">notifications</mat-icon>
                    <mat-icon *ngIf="(numUnread > 0)" #unread matBadge="{{numUnread}}" matBadgeSize="small" matBadgeColor="warn" style="cursor: pointer;" [matMenuTriggerFor]="menu" aria-label="notifications">notifications</mat-icon>
                    <mat-menu #menu="matMenu">
                        <label *ngIf="notifs.length == 0" style="margin: 1rem;">Nothing to see here!</label>
                        <button *ngFor="let notif of notifs?.slice()?.reverse()" mat-menu-item (click)="onClickN(notif)" [ngClass]="{'unread': !notif.read}">
                        {{ (getUsername(notif) | async) ? 'New comment from '+ (getUsername(notif) | async) : (challengeString(notif) | async) }}
                        </button>
                    </mat-menu>
                    <div mat-menu-trigger [matMenuTriggerFor]="userMenu" #userMenuTrigger="matMenuTrigger" tabindex="0">
                        <a style="cursor:pointer;" class="user">
                        <p>{{user?.displayName}}</p>
                        <img class="pfp-thumbnail" [src]="user?.pfp" [alt]="user?.displayName + ' profile picture'">
                        </a>
                    </div>
                    <mat-menu #userMenu="matMenu" (mouseleave)="userMenuTrigger.closeMenu()">
                        <a mat-menu-item routerLink="/profile">
                            <mat-icon>account_circle</mat-icon>
                            <span>Profile</span>
                        </a>
                        <a mat-menu-item routerLink="/profile/edit">
                            <mat-icon>settings</mat-icon>
                            <span>Settings</span>
                        </a>
                        <a mat-menu-item (click)="logOut()">
                            <mat-icon>exit_to_app</mat-icon>
                            <span>Logout</span>
                        </a>
                    </mat-menu>
                </div>
                <ng-template #guest>
                    <a class="user" routerLink="/login">
                        <p>Sign In</p>
                        <mat-icon>account_circle</mat-icon>
                    </a>
                </ng-template>
            </div>
        </div>
        <button mat-icon-button [matMenuTriggerFor]="dropdown" aria-label="Toggle navigation menu" class="toggle-button">
            <svg width="45" height="31" viewBox="0 0 45 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line y1="1.5" x2="45" y2="1.5" stroke="white" stroke-width="3"/>
                <line y1="15.5" x2="45" y2="15.5" stroke="white" stroke-width="3"/>
                <line y1="29.5" x2="45" y2="29.5" stroke="white" stroke-width="3"/>
            </svg>
        </button>
        <mat-menu #dropdown="matMenu">
            <button mat-menu-item routerLink="/we-challenge">
                <span>We</span>
            </button>
            <button mat-menu-item routerLink="/me-challenge">
                <span>Me</span>
            </button>
            <button mat-menu-item routerLink="/search/">
                <span>Search</span>
            </button>
            <button *ngIf="!(registration_service.isAuthenticated$ | async)" mat-menu-item routerLink="/login">
                <span>Sign In</span>
            </button>
            <button *ngIf="(registration_service.isAuthenticated$ | async)" mat-menu-item routerLink="/profile">
                <span>Profile</span>
            </button>
            <!-- Add other navigation items here -->
        </mat-menu>
    </div>
</nav>